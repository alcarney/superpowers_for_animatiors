<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Queues, Queueing and Ciw: Superpowers for Animators!</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="talk.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress" data-transition-duration="0"><div class="step step-level-1" step="0" id="title" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="queues-queueing-and-ciw-superpowers-for-animators">Queues, Queueing and Ciw: Superpowers for Animators!</h1><ul><li>Twitter: <a href="https://twitter.com/alcarneyorg">@alcarneyorg</a></li><li>Blog: <a href="http://alcarney.org">http://alcarney.org</a></li><li>Slides: <a href="http://superpowers.alcarney.org">http://superpowers.alcarney.org</a></li><li>Mercurial Repository: <a href="https://bitbucket.org/alcarney/blenderciw">https://bitbucket.org/alcarney/blenderciw</a></li></ul></div><div class="step step-level-1" step="1" id="animation" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0"><h1 id="what-is-animation">What is Animation?</h1><img src="animation.jpg"></img><p>.</p><blockquote><p>Animation is creating the illusion of motion, using a rapid
succession of still images.</p></blockquote><div class="notes"><ul><li><dl><dt>Give examples of animation:</dt><dd><ul><li>Flipbooks</li><li>Stop Motion - Wallace and Gromit</li><li>3D Animation - Shrek, Toy Story</li><li>Traditional Animation - Snow White, Lion King.</li></ul></dd></dl></li></ul></div></div><div class="step step-level-1" step="2" id="tradition" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="3200" data-y="0" data-z="0"><h1 id="traditional-animation">Traditional Animation</h1><ul><li>Snow White, Cinderella, Lion King etc.</li><li>Lead animator would draw 'keyframes' depicting important poses</li></ul><img src="keyframes.jpg"></img><ul><li>Junior animators would draw 'inbetweeners' creating the motion
between the keyframes</li></ul></div><div class="step step-level-1" step="3" id="blender" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="4800" data-y="0" data-z="0"><h1 id="what-is-blender">What is Blender?</h1><img src="blender.png" width="400px" height="400px"></img><div class="notes"><ul><li>Introduce Blender, model a car quickly.</li><li>Show how to animate character - draw parallels to traditional animation</li><li>Now bring up animating a character - time consuming.</li><li>How are we going to get around this - for BACKGROUND animation?</li><li>Queues!!</li></ul></div></div><div class="step step-level-1" step="4" id="queue" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="6400" data-y="0" data-z="0"><h1 id="what-is-a-queue">What is a Queue?</h1><img src="queue.png" width="680px" height="380px"></img><div class="notes"><ul><li>Explain what a queue is</li><li>Where do we find them</li><li>How it will help us with our animation</li><li>If only there was a way to simulate these queues....</li></ul></div></div><div class="step step-level-1" step="5" id="ciw" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="8000" data-y="0" data-z="0"><h1 id="cue-ciw">Cue Ciw!</h1><img src="ciw.png" width="400px" height="400px"></img><div class="notes"><ul><li>Demo Ciw in Jupyter Notebook</li><li>Show the Getting Started with Ciw example from the documentation</li><li>Switch to Blender and show how we would animate a single car by hand.</li><li>Then introduce the API.</li></ul></div></div><div class="step step-level-1" step="6" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="9600" data-y="0" data-z="0"><h1 id="duplicating-an-object">Duplicating an Object</h1><pre class="highlight code python"><span class="c1"># How many actors do we have?</span>
<span class="n">num_actors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">'Actors'</span><span class="p">]</span><span class="o">.</span><span class="n">objects</span><span class="p">)</span>

<span class="c1"># Pick a random object to duplicate</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="s1">'Actors'</span><span class="p">]</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_actors</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>

<span class="c1"># Instance it</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">data</span>
<span class="n">actor</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">mesh</span><span class="p">)</span>
<span class="n">actor</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Link it to the scene</span>
<span class="n">bpy</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">actor</span><span class="p">)</span>

<span class="k">return</span> <span class="n">actor</span></pre></div><div class="step step-level-1" step="7" id="constraint" data-x="11400" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-y="0" data-z="0"><h1 id="the-follow-path-constraint">The Follow Path Constraint</h1><img src="constraint.png" width="350px" height="400px"></img><pre class="highlight code python"><span class="n">constraint</span> <span class="o">=</span> <span class="n">actor</span><span class="o">.</span><span class="n">constraints</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">'FOLLOW_PATH'</span><span class="p">)</span>
<span class="n">constraint</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">bpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="s1">'Path'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">'Class'</span><span class="p">])]</span>
<span class="n">constraint</span><span class="o">.</span><span class="n">use_curve_follow</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">constraint</span><span class="o">.</span><span class="n">forward_axis</span> <span class="o">=</span> <span class="s1">'FORWARD_Y'</span></pre></div><div class="step step-level-1" step="8" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="13200" data-y="0" data-z="0"><h1 id="offset-keyframes">Offset Keyframes</h1><pre class="highlight code python"><span class="k">def</span> <span class="nf">insert_offset_keyframe</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">offset</span><span class="p">):</span>

    <span class="c1"># Set the new offset</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">constraints</span><span class="p">[</span><span class="s1">'Follow Path'</span><span class="p">]</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">offset</span>

    <span class="c1"># Record the keyframe</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">keyframe_insert</span><span class="p">(</span>
         <span class="n">data_path</span><span class="o">=</span><span class="s1">'constraints["Follow Path"].offset'</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="n">time</span><span class="p">)</span></pre></div><div class="step step-level-1" step="9" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="15000" data-y="0" data-z="0"><h1 id="location-keyframes">Location Keyframes</h1><pre class="highlight code python"><span class="k">def</span> <span class="nf">insert_loc_keyframe</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">loc</span><span class="p">):</span>

    <span class="c1"># Set the object's location</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">loc</span>

    <span class="c1"># Record the keyframe</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">keyframe_insert</span><span class="p">(</span><span class="n">data_path</span><span class="o">=</span><span class="s1">'location'</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="n">time</span><span class="p">)</span></pre></div><div class="step step-level-1" step="10" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="16800" data-y="0" data-z="0"><h1 id="attempt-1">Attempt 1</h1><img src="attempt_one_words.jpeg"></img></div><div class="step step-level-1" step="11" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="18600" data-y="0" data-z="0"><h1 id="id1">Attempt 1</h1><img src="attempt_onep_words.jpeg"></img></div><div class="step step-level-1" step="12" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="20400" data-y="0" data-z="0"><h1 id="id2">Attempt 1</h1><img src="attempt_one_vals.jpeg"></img></div><div class="step step-level-1" step="13" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="22200" data-y="0" data-z="0"><iframe width="900" height="500" src="https://www.youtube.com/embed/_7IxZwr7icw" frameborder="0" allowfullscreen></iframe></div><div class="step step-level-1" step="14" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="24000" data-y="0" data-z="0"><h1 id="attempt-2">Attempt 2</h1><img src="attempt_two_words.jpeg"></img></div><div class="step step-level-1" step="15" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="25800" data-y="0" data-z="0"><h1 id="id3">Attempt 2</h1><img src="attempt_two_vals.jpeg"></img></div><div class="step step-level-1" step="16" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="27600" data-y="0" data-z="0"><iframe width="900" height="500" src="https://www.youtube.com/embed/fh2YK2dduZg?t=10s" frameborder="0" allowfullscreen></iframe></div><div class="step step-level-1" step="17" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="29400" data-y="0" data-z="0"><h1 id="attempt-3">Attempt 3</h1><img src="attempt_three_words.jpeg"></img></div><div class="step step-level-1" step="18" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="31200" data-y="0" data-z="0"><h1 id="id4">Attempt 3</h1><img src="attempt_three_vals.jpeg"></img></div><div class="step step-level-1" step="19" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="33000" data-y="0" data-z="0"><iframe width="900" height="500" src="https://www.youtube.com/embed/2MmOXRB_z4o" frameborder="0" allowfullscreen></iframe></div><div class="step step-level-1" step="20" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="34800" data-y="0" data-z="0"><h1 id="attempt-3-5">Attempt 3.5</h1><img src="attempt_threep_vals.jpeg"></img></div><div class="step step-level-1" step="21" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="36600" data-y="0" data-z="0"><iframe width="900" height="500" src="https://www.youtube.com/embed/3mnNckROfI4" frameborder="0" allowfullscreen></iframe></div><div class="step step-level-1" step="22" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="38400" data-y="0" data-z="0"><h1 id="future-work">Future Work</h1><ul><li>Integrate Ciw into Blender</li><li>Make networks composeable</li><li>More complex animations</li><li>Extract common code into some sort of library</li></ul></div><div class="step step-level-1" step="23" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="40200" data-y="0" data-z="0"><h1 id="want-to-know-more-about">Want to know more about....?</h1></div><div class="step step-level-1" step="24" id="more-animation" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="42000" data-y="0" data-z="0"><h1 id="animation">....Animation?</h1><ul><li>Animator's Survival Kit:</li></ul><img src="survival.jpg" width="300px" height="400px"></img><ul><li>An animation <a href="https://www.youtube.com/playlist?list=PLh6dCjPStiyXN-NKuX9t5-ZhYnDyX_O-7">playlist</a></li></ul></div><div class="step step-level-1" step="25" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="43800" data-y="0" data-z="0"><h1 id="blender">....Blender?</h1><ul><li><a href="https://www.blender.org">Blender</a></li><li>Blender Open Movies on <a href="https://www.youtube.com/playlist?list=PLh6dCjPStiyXX3qXCVxbROtSx1DiPlWf5">Youtube</a></li><li><a href="http://www.blendernation.com/">BlenderNation</a></li></ul></div><div class="step step-level-1" step="26" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="45600" data-y="0" data-z="0"><h1 id="ciw">....Ciw?</h1><ul><li><a href="http://ciw.readthedocs.io/en/latest/">Documentation</a></li><li>Ciw on <a href="https://github.com/CiwPython/Ciw">Github</a></li><li>Talk at <a href="https://www.youtube.com/watch?v=0_sIus0mPSM">PyConUK 2016</a></li></ul></div><div class="step step-level-1" step="27" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="47400" data-y="0" data-z="0"><h1 id="questions">Questions?</h1></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Right, Down, Page Down</th><td>Next slide</td></tr><tr><th>Left, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>